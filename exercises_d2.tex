\documentclass{article}
\usepackage[margin=2cm]{geometry}
\title{Git: installation and exercises}
%\author{Programming in Java}
\date{}
\begin{document}
\maketitle

\vspace{1cm}

\section*{Learning goals}
\label{sec:learning-goals}

Before the next day, you should have achieved the following learning
goals: 

\begin{itemize}
\item Understand the concept of source code version control.
\item Use the basic git commands: commit, push, pull, diff, status, log.
\item Use \verb+github.com+ to create an account, create a repo, clone
  it, and push changes onto it. 
\item Understand what an enviroment variable is.
\item Be able to set and modify an environment variable.
\item Understand what \verb+PATH+ is for and change or update it.
\end{itemize}

\section{Install Git in your account}
\label{sec:install-git-your}

If you want to use Git (and you do!) you need to install it in your
computer. Git is not installed in the labs by default, so you will
need to install it in your personal account. You have more than enough
space. (Hint: your drive is probably H: or I:).

Remember that Git is free open-source software so you can get it
easily online. (Hint: searching "git windows download" will
probably get good results)

Once you have installed Git, check that everything works by going to
the relevant folder and executing \verb+git+. You should see a listing
of all the possible commands. (Hint: the folder you are looking for is
called \verb+bin+, for ``binary file''; this is a typical name for the
folder that stores the executable files of a project). 

\vspace{1cm}

\section{Add git.exe to your path}
\label{sec:add-git.exe-your}

If you have successfully completed the previous exercise, you can
execute git from its own folder. In a real environment, however, you
want to execute Git from your project folder, wherever this is. In
order to execute a program from a different folder, you need to add it
(e.g. \verb+git.exe+) to your PATH. 

\subsection{What is the PATH?}
\label{sec:what-path}

Every program that you execute in Windows must be either (a) called
absolutely, with its fully qualified name
(e.g. \verb+c:\windows\notepad.exe+), (b) be in the current folder, 
or (c) be included in the PATH.

When you type a command that is not a fully qualified name, Windows
will look for it in the current folder. If it is not there, it will
look for it in all the folders in the PATH. If it cannot find it after
all these steps, it will complain:

\begin{verbatim}
  '.....' is not recognized as an internal or external command,
  operable program or batch file.
\end{verbatim}

\subsection{How can I check what my PATH is?}

Very easy. Just type 'echo \%PATH\%' on the command line (on Windows
systems) or 'echo \$PATH' (on Unix systems: Linux, Max, etc).

You can follow the same procedure to see the value of all other
environment variables, e.g. echo \%SOME\_VARIABLE\%, echo
\$SOME\_VARIABLE. 

\subsection{How can I edit the PATH?}

The right way of doing it requires to have Administrator rights, so
you probably cannot do it in the lab\footnote{But you can try just in
  case\ldots}.  
You can check online how to do it, it is
explained in thousands of places (googling "change path windows
7/10/Vista/XP/whatever" will probably get you good results).

In the lab, you have to do it manualy by using the command 'set' (this
is the same in Windows and in most Unix systems):

\begin{verbatim}
  > set PATH=newPath
\end{verbatim}

where 'newPath' is the new value that you want for this environment
variable. 
This will \emph{overwrite} your PATH in the same way that 
writing \verb+i=1+ in Java overwrites the value of the 
variable \verb+i+. 

Sometimes this is not what you want: you
want to add things to your PATH, keeping the old list of folders that
you already had. This
is easy too; the only thing you have to know is that the old value of
PATH can be accessed with \%PATH\% (Windows) or \$PATH (Unix). 
In other words, if you type\ldots

\begin{verbatim}
  > set PATH=%PATH%
\end{verbatim}

\ldots you will have the same path (i.e.~you have overwritten it with
the same value). Now it is easy to add things. You
have probably noticed that folders are separated by a semicolon (;) if
you are on a Windows machine and with a colon (:) if you are on a Unix
machine,
so if you want to add the folder \verb+h:\git\bin+ to your PATH, you
only 
need to type:

\begin{verbatim}
  > set PATH=%PATH%;h:\git\bin
\end{verbatim}

or something like:

\begin{verbatim}
  > set PATH=$PATH;/usr/bin
\end{verbatim}

on Unix systems. 

%The inverted commas are only necessary if you have spaces in your PATH. % // Not anymore in Windows 7 and it actually gets in the way 

\begin{table}
  \centering
  \begin{tabular}[htbp]{|l|c|c|}
    \hline
    & Windows & Unix \\
    \hline
    Read value & \%VARIABLE\% & \$VARIABLE \\
    \hline
    Print value & echo \%VARIABLE\% & echo \$VARIABLE \\
    \hline
    Write value & set VARIABLE=... & set VARIABLE=... \\
    \hline
    PATH separator & semicolon (;) & colon (:) \\
    \hline
  \end{tabular}
  \caption{Environment variables in Windows and Unix}
  \label{tab:envvars}
\end{table}


\subsection*{Notes for Unix users}
\label{sec:notes-unix-users}

\begin{itemize}
\item In Unix (Linux, Mac OS X, etc), entries in the path are
  separated with a colon (:), not a semicolon.
\item In Unix (Linux, Mac OS X, etc), environment variables (like
  PATH) are accessed using an initial dollar symbol instead of using
  enclosing percents, i.e.~to see your path, type: \verb+echo $PATH+
\end{itemize}

\section{Basic actions on GitHub}
\label{sec:basic-steps-with}

Open an account on GitHub. Ask the faculty for the right account name
to use for ``Programming in Java''. Once your account is open, perform
the following two tasks: 

\begin{itemize}
\item Create a new repository names \verb+My first repository+.
\item Fork the \verb+currency-exchanger+ repository from account
  \verb+bbk-msccs+ so that you have your own copy.
\end{itemize}

\section{Basic actions with git}
\label{sec:basic-actions-with}

\subsection{Working on your own}
\label{sec:working-your-own}

Clone your own copy of the \verb+currency-exchanger+ repository. This
will create a local copy of it on your computer. 

Add a few lines of code to the program, or modify some of them, to
produce a new version. Commit it and write a short message explaining
your changes. 

Make additional changes and commit them. Write a descriptive message. 

Change to a different folder and clone your repository again. Verify
that the clone is equal to the original \verb+currency-exchanger+. 

Change to the most up-to-date copy and use \verb+git log+ to see your
latest changes. Use \verb+git diff+ to see the differences between the
most recent version you cloned and \verb+HEAD+. 

Push your changes to your copy of \verb+currency-exhanger+.

Change to a different folder once again and clone your repository
again. Verify that this clone contains all your recent changes to
\verb+currency-exchanger+.

Make sure you have completed all the former steps before moving on. 

\subsection{Working with others}
\label{sec:working-with-others}

Talk to one of your colleagues in the lab and get their account name
and the name they have assigned to their fork of
\verb+currency-exchanger+. Look at their repository online on GitHub
to see their changes. 

Pull their repository into your local copy. If the likely case that
this results in a conflict, resolve the conflict before committing
again; you can solve the conflict in any way you choose: removing
their changes, removing your changes, or doing a manual merge of
both. Once the conflict is solved, commit. 

(If pulling the code did not result in a conflict, pull again from
other colleagues until you have a conflict. Solve the conflict and
commit.) 

Push your latest changes to your copy of the repository. Tell your
colleague to pull from it so that you have the same version. Use your
web browser to see the changes on GitHub, both yours and your
colleague's. 





\end{document}
